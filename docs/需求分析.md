# JT808Proxy 需求分析

## 一、系统目标

JT808Proxy 是基于交通部 JT/T 808 协议的车辆通信代理服务系统，主要用于处理车载终端的 TCP 通信请求，实现报文转发、协议解析、数据存储与管理。

## 二、系统组成与主要功能

### 1. TCP Proxy 服务（核心）
- 支持双向 TCP 通信链路
- 原始 TCP 报文转发（支持一对一、多对一模式，可配置）
- JT808 报文头解析
- 0x0200 定位信息提取与每日分表存储
- 0x0100 终端注册信息提取与车辆信息自动维护
- 按终端号码智能转发，动态建链、断链
- 基础链路监控与运行日志

### 2. Web 前台系统
- 系统参数设置（转发策略、服务器地址等）
- 车辆信息管理（增删改查）
- 定位数据查询与轨迹回放
- 链路状态查看
- 简单权限控制

### 3. Web 后台服务（REST API）
- 提供车辆、配置、定位、链路等数据的标准 REST 接口
- 支持链路与终端状态查询

## 三、开发技术环境
- 前端：Vue 3
- 后端：Python（FastAPI）
- 数据库：SQLite
- 部署平台：Windows/Linux
- 运行模式：单机，支持 Docker（可选）

## 四、开发任务清单（分阶段）

1. 项目初始化与文档编写
2. TCP Proxy 服务基础框架
3. JT808 协议解析与转发
4. 数据存储与每日分表
5. 监控与运行日志
6. Web 后端 API（FastAPI）
7. Web 前端（Vue3）
8. 权限控制与配置管理
9. 测试与部署

## 五、其他说明
- 终端手机号为唯一标识，自动提取
- 车辆信息自动入库与字段变更日志
- 数据库每日分表，结构可灵活调整
- 允许开发团队根据实际情况优化实现

如有需求变更或补充，请及时更新本文档。 